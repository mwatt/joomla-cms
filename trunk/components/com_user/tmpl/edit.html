<mos:comment>
@version $Id: edit.html 137 2005-09-12 10:21:17Z eddieajau $
@package Mambo
@copyright Copyright (C) 2005 Open Source Matters. All rights reserved.
@license http://www.gnu.org/copyleft/gpl.html GNU/GPL
</mos:comment>

<mos:link src="include-overlib" />

<script language="javascript" type="text/javascript">
<!--
function submitbutton( pressbutton ) {
	var form = document.mosUserForm;
	var r = new RegExp("[\<|\>|\"|\'|\%|\;|\(|\)|\&|\+|\-]", "i");

	form.task.value = pressbutton;

	if ( pressbutton == 'cancel' ) {
		form.submit( );
		return;
	}

	// do field validation
	if ( form.name.value == '' ) {
		alert( "<mos:Translate>REGWARN_NAME</mos:Translate>" );
	} else if ( form.username.value == "" ) {
		alert( "<mos:Translate>REGWARN_UNAME</mos:Translate>" );
	} else if ( r.exec( form.username.value ) || form.username.value.length < {LENGTH_NAME} ) {
		alert( "<mos:Translate>VALID_AZ09</mos:Translate>, <mos:Translate>PROMPT_UNAME</mos:Translate>, ( {LENGTH_NAMEX} ) );?>" );
	} else if ( form.email.value == "" ) {
		alert( "<mos:Translate>REGWARN_MAIL</mos:Translate>" );
	} else if ( ( form.password.value != "" ) && ( form.password.value != form.verifyPass.value ) ) {
		alert( "<mos:Translate>REGWARN_VPASS2</mos:Translate>" );
	} else if ( ( form.password.value != "" ) && ( r.exec( form.password.value ) || form.password.value.length < {LENGTH_PASS} ) ) {
		alert( "<mos:Translate>VALID_AZ09</mos:Translate>, <mos:Translate>REGISTER_PASS</mos:Translate>, ( {LENGTH_PASSX} ) );?>" );
	} else {
		form.submit( );
	}
}
//-->
</script>
<style type="text/css">
span.editlinktip {
	text-decoration:  none;
	border-bottom: 1px dashed #aaa;
}
table.adminform th {
	height: 30px;
	color: #E15704;
	font-size: 12px;
	text-align: left;
	padding: 6px 4px 2px 4px ;
	background-color: #E9EFF5;
}
table.adminform td {
	height: 35px;
	padding-left: 10px;
}
fieldset {
	width: 95%;
}
table.paramlist {
	width: 100%;
}
table.paramlist td {
	height: 35px;
	padding-left: 10px;
	vertical-align: middle;
}
table.paramlist td.column1 {
	width: 130px;
}
</style>

<form action="index.php" method="post" name="mosUserForm">

<div class="componentheading{P_PAGECLASS_SFX}">
	<mos:Translate>EDIT_TITLE</mos:Translate>
</div>

<div align="center">
	<fieldset >
		<table class="adminform" width="100%">
		<thead>
		<tr>
			<th colspan="6">
				<mos:Translate>Details</mos:Translate>
			</th>
		</tr>
		</thead>
		<tr>
			<td width="130">
				<label for="username"  onmouseover="return overlib('<mos:Translate>{TIP_USER}</mos:Translate>');" onmouseout="return nd();">
					<span class="editlinktip">
						<mos:Translate>UNAME</mos:Translate>
					</span>
				</label>
			</td>
			<td>
				<input class="inputbox" type="text" id="username" name="username" value="{ROW_USERNAME}" size="40" {DIS_USER}/>
			</td>
			<td rowspan="5" width="150" valign="top">
				<div style="float: right;">
					{TOOLBAR}
				</div>
			</td>
		</tr>
		<tr>
			<td>
				<label for="name"  onmouseover="return overlib('<mos:Translate>{TIP_NAME}</mos:Translate>');" onmouseout="return nd();">
					<mos:tmpl type="condition" conditionvar="TIP_NAME" varscope="BODY">
						<mos:sub condition="__empty">
							<mos:Translate>YOUR_NAME</mos:Translate>
						</mos:sub>

						<mos:sub condition="__default">
							<span class="editlinktip">
								<mos:Translate>YOUR_NAME</mos:Translate>
							</span>
						</mos:sub>
					</mos:tmpl>
				</label>
			</td>
			<td>
				<input class="inputbox" type="text" id="name" name="name" value="{ROW_NAME}" size="40" {DIS_NAME}/>
			</td>
		</tr>
		<tr>
			<td>
				<label for="email">
					<mos:Translate>EMAIL</mos:Translate>
				</label>
			</td>
			<td>
				<input class="inputbox" type="text" id="email" name="email" value="{ROW_EMAIL}" size="40" />
			</td>
		</tr>
		<tr>
			<td>
				<label for="password"  onmouseover="return overlib('<mos:Translate>{TIP_PASS}</mos:Translate>');" onmouseout="return nd();">
					<span class="editlinktip">
						<mos:Translate>PASS</mos:Translate>
					</span>
				</label>
			</td>
			<td>
				<input class="inputbox" type="password" id="password" name="password" value="" size="40" />
			</td>
		</tr>
		<tr>
			<td>
				<label for="password2">
					<mos:Translate>VPASS</mos:Translate>
				</label>
			</td>
			<td>
				<input class="inputbox" type="password" id="password2" name="verifyPass" size="40" />
			</td>
		</tr>
		</table>

		<mos:tmpl type="simplecondition" requiredvars="SHOW_PARAMS=1" varscope="BODY">
			<hr/>
			{PARAMS}
		</mos:tmpl>

		<table class="adminform" width="100%">
		<thead>
		<tr>
			<th>
			</th>
		</tr>
		</thead>
		</table>
	</fieldset>
</div>

<input type="hidden" name="id" value="{ROW_ID}" />
<input type="hidden" name="option" value="{OPTION}" />
<input type="hidden" name="task" value="saveUserEdit" />
</form>

<mos:tmpl type="simplecondition" requiredvars="P_BACK_BUTTON=1" varscope="BODY">
<!-- Show Back Button -->
	<br/>
	<mos:link src="back_button" varscope="BODY"/>
</mos:tmpl>