<mos:comment>
@version $Id: edit_content.html 137 2005-09-12 10:21:17Z eddieajau $
@package Mambo
@copyright Copyright (C) 2005 Open Source Matters. All rights reserved.
@license http://www.gnu.org/copyleft/gpl.html GNU/GPL
</mos:comment>

<mos:link src="include-overlib" />
<mos:link src="include-calendar" />
<mos:link src="includeTabs" />

<script language="javascript" type="text/javascript">
<!--
{JS}

var folderimages = new Array;
<mos:tmpl name="JS" varscope="BODY">
	{JS_LINK}
</mos:tmpl>

function submitbutton( pressbutton ) {
	var form = document.adminForm;
	if ( pressbutton == 'cancel' ) {
		submitform( pressbutton );
		return;
	}

	// var goodexit=false;
	// assemble the images back into one field
	form.goodexit.value = 1
	var temp = new Array;
	for ( var i = 0, n = form.imagelist.options.length; i < n; i++ ) {
		temp[i] = form.imagelist.options[i].value;
	}
	form.images.value = temp.join( '\n' );
	try {
		form.onsubmit();
	}
	catch( e ) {}
	// do field validation
	if ( form.title.value == '' ) {
		alert ( '<mos:Translate>E_WARNTITLE</mos:Translate>' );
	} else if ( parseInt( 'ROW_SECTIONID' ) ) {
		// for content items
		if ( getSelectedValue( 'adminForm', 'catid' ) < 1 ) {
			alert ( '<mos:Translate>E_WARNCAT</mos:Translate>' );
		} else {
			{GET_EDITOR1}
			{GET_EDITOR2}
			submitform( pressbutton );
		}
	} else {
		// for static content
		{GET_EDITOR1}
		submitform( pressbutton );
	}
}

function setgood() {
	document.adminForm.goodexit.value = 1;
}

function WarnUser(){
	if ( document.adminForm.goodexit.value == 0 ) {
		alert( '<mos:Translate>E_WARNUSER</mos:Translate>' );
		window.location = '{LINK}';
	}
}
//-->
</script>
<style type="text/css">
span.editlinktip {
	text-decoration:  none;
	border-bottom: 1px dashed #aaa;
}
table.adminform td {
	height: 35px;
}
table.adminform th {
	height: 30px;
	color: #E15704;
	font-size: 12px;
	text-align: left;
	padding: 6px 4px 2px 4px ;
	background-color: #E9EFF5;
}
div.height {
	height: 45px;
}
fieldset {
	width: 97%;
}
legend {
	font-weight: bold;
	font-size: 11px;
}
div.surround {
	margin-top: 10px;
}
div.editor {
	padding: 20px 0px 10px 0px;
}
</style>

<form action="index.php" method="post" name="adminForm" class="adminform" id="formcontent" onSubmit="javascript:setgood();">

<div class="componentheading">
	<mos:Translate>E_EDIT</mos:Translate>
	<mos:Translate>E_CONTENT</mos:Translate>
</div>

<div align="center" class="surround">
	<fieldset>
		<table class="adminform" width="100%">
		<tr>
			<td>
				<div class="height">
					<label for="title">
						<mos:Translate>E_TITLE</mos:Translate>
					</label>
					<a href="javascript: void(0);" onMouseOver="return overlib('{OVERLIB_INFO}', CAPTION, '<mos:Translate>E_ITEM_INFO</mos:Translate>', BELOW, RIGHT);" onMouseOut="return nd();">
						<strong>[ <mos:Translate>Info</mos:Translate> ]</strong></a>
					<br/>
					<input class="inputbox" type="text" name="title" id="title" size="50" maxlength="100" value="{ROW_TITLE}" />
				</div>

				<div class="height">
					<label for="title">
						<mos:Translate>E_TITLE_ALIAS</mos:Translate>
					</label>
					<br/>
					<input class="inputbox" type="text" name="title" id="title_alias" size="50" maxlength="100" value="{ROW_TITLE_ALIAS}" />
				</div>
			</td>
			<td rowspan="2" valign="top" align="right" width="200">
				<div style="float: right;">
					{TOOLBAR}
				</div>
			</td>
		</tr>
		<mos:tmpl type="simplecondition" requiredvars="STATIC=0" varscope="BODY">
			<tr>
				<td>
					<div class="height">
						<label for="catid">
							<mos:Translate>E_CATEGORY</mos:Translate>
						</label>
						<br/>
						{LIST_CATID}
					</div>
				</td>
			</tr>
		</mos:tmpl>
		</table>
	</fieldset>
</div>

<div align="center" class="surround">
	<fieldset>
		<mos:tmpl type="simplecondition" requiredvars="STATIC=0" varscope="BODY">
			<legend>
				<mos:Translate>E_INTRO</mos:Translate>
				[ <mos:Translate>Required</mos:Translate> ]
			</legend>
		</mos:tmpl>

		<mos:tmpl type="simplecondition" requiredvars="STATIC=1" varscope="BODY">
			<legend>
				<mos:Translate>E_MAIN</mos:Translate>
				[ <mos:Translate>Required</mos:Translate> ]
			</legend>
		</mos:tmpl>

		<div align="center" class="editor">
			{EDITOR1}
		</div>
	</fieldset>
</div>

<mos:tmpl type="simplecondition" requiredvars="STATIC=0" varscope="BODY">
	<div align="center" class="surround">
		<fieldset>
			<legend>
				<mos:Translate>E_MAIN</mos:Translate>
				[ <mos:Translate>OPTIONAL</mos:Translate> ]
			</legend>

			<div align="center" class="editor">
				{EDITOR2}
			</div>
		</fieldset>
	</div>
</mos:tmpl>

<div align="center" class="surround">
	<fieldset>
		<div align="center">
			{TOOLBAR}
		</div>

		<div align="center" style="float: left; width: 100%; margin-top: 30px;">
			<mos:link src="startTabPane" varscope="BODY"/>
				<mos:Call template="startTab" tabtitle="E_IMAGES" paneid="content-pane" varscope="BODY" />
				<!-- Image Tab -->

					<table class="adminform" width="100%">
					<thead>
					<tr>
						<th colspan="6">
							<mos:Translate>Images</mos:Translate>
						</th>
					</tr>
					</thead>
					<tfoot>
					<tr>
						<th colspan="6">
						</th>
					</tr>
					</tfoot>

					<tr>
						<td colspan="6">
							<label for="folders">
								<mos:Translate>Sub-folder</mos:Translate> ::
							</label>
							{LIST_FOLDERS}
						</td>
					</tr>
					<tr>
						<td align="top">
							<label for="imagefiles">
								<mos:Translate>E_GALLERY_IMAGES</mos:Translate>
							</label>
						</td>
						<td align="top">
							<label for="imagelist">
								<mos:Translate>E_GALLERY_IMAGES</mos:Translate>
							</label>
						</td>
						<td align="top">
							<mos:Translate>E_EDIT_IMAGE</mos:Translate>
						</td>
					<tr>
						<td valign="top">
							{LIST_IMAGEFILES}
							<br />
							<input class="button" type="button" value="<mos:Translate>E_INSERT</mos:Translate>" onclick="addSelectedToList('adminForm','imagefiles','imagelist')" />
						</td>
						<td valign="top">
							{LIST_IMAGELIST}
							<br />
							<input class="button" type="button" value="<mos:Translate>E_UP</mos:Translate>" onclick="moveInList('adminForm','imagelist',adminForm.imagelist.selectedIndex,-1)" />
							<input class="button" type="button" value="<mos:Translate>E_DOWN</mos:Translate>" onclick="moveInList('adminForm','imagelist',adminForm.imagelist.selectedIndex,+1)" />
							<input class="button" type="button" value="<mos:Translate>E_REMOVE</mos:Translate>" onclick="delSelectedFromList('adminForm','imagelist')" />
						</td>
						<td valign="top">
							<table>
							<tr>
								<td align="right">
									<label for="_source">
										<mos:Translate>E_SOURCE</mos:Translate>
									</label>
								</td>
								<td>
									<input class="inputbox" type="text" name= "_source" id="_source"  value="" size="15" />
								</td>
							</tr>
							<tr>
								<td align="right" valign="top">
									<label for="_align">
										<mos:Translate>E_ALIGN</mos:Translate>
									</label>
								</td>
								<td>
									{LIST_ALIGN}
								</td>
							</tr>
							<tr>
								<td align="right">
									<label for="_alt">
										<mos:Translate>E_ALT</mos:Translate>
									</lable>
								</td>
								<td>
									<input class="inputbox" type="text" name="_alt" id="_alt" value="" size="15" />
								</td>
							</tr>
							<tr>
								<td align="right">
									<label for="_border">
										<mos:Translate>E_BORDER</mos:Translate>
									</label>
								</td>
								<td>
									<input class="inputbox" type="text" name="_border" id="_border" value="" size="3" maxlength="1" />
								</td>
							</tr>
							<tr>
								<td align="right">
									<label for="_caption">
										<mos:Translate>E_CAPTION</mos:Translate>:
									</label>
								</td>
								<td>
									<input class="text_area" type="text" name="_caption" id="_caption" value="" size="30" />
								</td>
							</tr>
							<tr>
								<td align="right">
									<label for="_caption_position">
										<mos:Translate>E_CAPTION_POS</mos:Translate>:
									</label>
								</td>
								<td>
									{LIST_CAPTION_POSITION}
								</td>
							</tr>
							<tr>
								<td align="right">
									<label for="_caption_align">
										<mos:Translate>E_CAPTION_ALIGN</mos:Translate>:
									</label>
								</td>
								<td>
									{LIST_CAPTION_ALIGN}
								</td>
							</tr>
							<tr>
								<td align="right">
									<label for="_width"  onmouseover="return overlib('<mos:Translate>TIPSMOSIMAGEWIDTH</mos:Translate>');" onmouseout="return nd();">
										<span class="editlinktip">
											<mos:Translate>E_WIDTH</mos:Translate>:
										</span>
									</label>
								</td>
								<td>
									<input class="text_area" type="text" name="_width"  id="_width" value="" size="5" maxlength="5" />
								</td>
							</tr>
							<tr>
								<td align="right">
									<label for="_link"  onmouseover="return overlib('<mos:Translate>TIPSMOSIMAGELINK</mos:Translate>');" onmouseout="return nd();">
										<span class="editlinktip">
											<mos:Translate>Link Url</mos:Translate>:
										</span>
									</label>
								</td>
								<td>
									<input class="text_area" type="text" name="_link" id="_link"" value="" size="30" />
								</td>
							</tr>
							<tr>
								<td align="right">
									<mos:Translate>Link Target</mos:Translate>:
								</td>
								<td>
									{LIST_LINK_TARGET}
								</td>
							</tr>
							<tr>
								<td align="right">
								</td>
								<td>
									<input class="button" type="button" value="<mos:Translate>E_APPLY</mos:Translate>" onclick="applyImageProps()" />
								</td>
							</tr>
							</table>
						</td>
					</tr>
					<tr>
						<td>
							<img name="view_imagefiles" src="{SITEURL}/images/M_images/blank.png" width="50" alt="No Image" />
						</td>
						<td>
							<img name="view_imagelist" src="{SITEURL}/images/M_images/blank.png" width="50" alt="No Image" />
						</td>
					</tr>
					</table>

				<mos:link src="endTab"/>
				<mos:Call template="startTab" tabtitle="E_PUBLISHING" paneid="content-pane" varscope="BODY" />
				<!-- Detail Tab -->

					<table class="adminform" width="100%">
					<thead>
					<tr>
						<th colspan="6">
							<mos:Translate>Details</mos:Translate>
						</th>
					</tr>
					</thead>
					<tfoot>
					<tr>
						<th colspan="6">
						</th>
					</tr>
					</tfoot>

		 			<mos:tmpl type="simplecondition" requiredvars="CAN_PUBLISH=1" varscope="BODY">
						<tr>
							<td align="left" class="rowheight">
								<label for="state">
									<mos:Translate>E_STATE</mos:Translate>
								</label>
							</td>
							<td>
								{LIST_STATE}
							</td>
						</tr>
					</mos:tmpl>

					<tr>
						<td align="left" valign="top">
							<label for="access">
								<mos:Translate>E_ACCESS_LEVEL</mos:Translate>
							</label>
						</td>
						<td>
							{LIST_ACCESS}
						</td>
					</tr>
					<tr>
						<td align="left">
							<label for="created_by_alias">
								<mos:Translate>E_AUTHOR_ALIAS</mos:Translate>
							</label>
						</td>
						<td>
							<input type="text" name="created_by_alias" id="created_by_alias"  size="50" maxlength="100" value="{ROW_CREATED_BY_ALIAS}" class="inputbox" />
						</td>
					</tr>
					<tr>
						<td align="left">
							<label for="ordering">
								<mos:Translate>E_ORDERING</mos:Translate>
							</label>
						</td>
						<td>
							{LIST_ORDERING}
						</td>
					</tr>
					<tr>
						<td align="left">
							<label for="publish_up">
								<mos:Translate>E_START_PUB</mos:Translate>
							</label>
						</td>
						<td>
							<input class="inputbox" type="text" name="publish_up" id="publish_up" size="25" maxlength="19" value="{ROW_PUBLISH_UP}" />
							<input type="reset" class="button" value="..." onclick="return showCalendar('publish_up', 'y-mm-dd');" />
						</td>
					</tr>
					<tr>
						<td align="left">
							<label for="publish_down">
								<mos:Translate>E_FINISH_PUB</mos:Translate>
							</label>
						</td>
						<td>
							<input class="inputbox" type="text" name="publish_down" id="publish_down" size="25" maxlength="19" value="{ROW_PUBLISH_DOWN}" />
							<input type="reset" class="button" value="..." onclick="return showCalendar('publish_down', 'y-mm-dd');" />
						</td>
					</tr>
					<tr>
						<td align="left">
							<label for="frontpage">
								<mos:Translate>E_SHOW_FP</mos:Translate>
							</label>
						</td>
						<td>
					    	<input type="checkbox" name="frontpage" id="frontpage"  value="1" {FRONTPAGE} />
						</td>
					</tr>
					</table>

				<mos:link src="endTab"/>
				<mos:Call template="startTab" tabtitle="E_METADATA" paneid="content-pane" varscope="BODY" />
				<!-- Meta Tab -->

					<table class="adminform" width="100%">
					<thead>
					<tr>
						<th colspan="6">
							<mos:Translate>Meta Data</mos:Translate>
						</th>
					</tr>
					</thead>
					<tfoot>
					<tr>
						<th colspan="6">
						</th>
					</tr>
					</tfoot>

					<tr>
						<td align="left" valign="top">
							<label for="metadesc">
								<mos:Translate>E_M_DESC</mos:Translate>
							</label>
						</td>
						<td>
							<textarea class="inputbox" cols="45" rows="3" name="metadesc"  id="metadesc">{ROW_METADESC}</textarea>
						</td>
					</tr>
					<tr>
						<td align="left" valign="top">
							<label for="metakey">
								<mos:Translate>E_M_KEY</mos:Translate>
							</label>
						</td>
						<td>
							<textarea class="inputbox" cols="45" rows="3" name="metakey" id="metakey">{ROW_METAKEY}</textarea>
						</td>
					</tr>
					</table>

				<mos:link src="endTab"/>
			<mos:link src="endTabPane"/>
		</div>
	</fieldset>
</div>

<div style="clear:both;"></div>

<input type="hidden" name="images" value="" />
<input type="hidden" name="referer" value="{REFERER}" />
<input type="hidden" name="goodexit" value="0" />
<input type="hidden" name="option" value="com_content" />
<input type="hidden" name="Returnid" value="{ROW_RETURN}" />
<input type="hidden" name="id" value="{ROW_ID}" />
<input type="hidden" name="version" value="{ROW_VERSION}" />
<input type="hidden" name="sectionid" value="{ROW_SECTIONID}" />
<input type="hidden" name="created_by" value="{ROW_CREATED_BY}" />
<input type="hidden" name="task" value="" />

</form>