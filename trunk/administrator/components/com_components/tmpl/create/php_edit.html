<pat:comment>
@version $Id: php_edit.html 137 2005-09-12 10:21:17Z eddieajau $
@package Mambo
@copyright Copyright (C) 2005 Open Source Matters. All rights reserved.
@license http://www.gnu.org/copyleft/gpl.html GNU/GPL
</pat:comment>
	/**
	 * Edit
	 * @return boolean False if a error occurs
	 */
	function edit() {
		global $database, $my, $_LANG;

		$lists = array();

		$cid = mosGetParam( $_POST, 'cid', array(0) );
		$id = intval( $cid[0] );

		// load the row from the db table
		$row = new {CLASSNAME}( $database );
		$row->load( $id );

		// fail if checked out not by 'me'
		if ($row->isCheckedOut()) {
			$this->setRedirect( 'index2.php?option=com_{BASENAME}', $_LANG->_( 'errorItemCheckedOut' ) );
			return false;
		}

		if ($id) {
			$row->checkout( $my->id );
		} else {
			// initialise new record
			$row->published 	= 1;
			$row->ordering		= 0;
		}

		mosFS::load( '@admin_html' );
		{BASENAME}Screens::edit( $row, $lists, $params );
	}