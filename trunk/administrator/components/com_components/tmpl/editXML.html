<mos:comment>
@version $Id: editXML.html 137 2005-09-12 10:21:17Z eddieajau $
@package Mambo
@copyright Copyright (C) 2005 Open Source Matters. All rights reserved.
@license http://www.gnu.org/copyleft/gpl.html GNU/GPL
</mos:comment>

<mos:link src="includeTabs" />
<mos:link src="include-overlib" />

<script language="javascript" type="text/javascript">
<!--
function submitbutton(pressbutton) {
	var form = document.adminForm;
	<mos:Call template="js-cancel" task="cancel" />
	<mos:Call template="js-validate" condition="form.name.value == ''" message="Name can\'t be empty" />
	submitform( pressbutton );
}
//-->
</script>

<div id="treecell">
	<fieldset>
		<legend>
			<mos:Translate>Quick Tip</mos:Translate>
		</legend>
		<mos:Translate key="Quicktiptext editxml"></mos:Translate>
	</fieldset>
</div>
<div id="datacell">
	<fieldset>
		<legend>
			<mos:Translate>Source</mos:Translate>
		</legend>

		<table class="adminform">
		<tr>
			<td>
	<mos:Call template="startTabPane" paneid="a" panecookies="1" />
		<mos:Call template="startTab" paneid="a" tabtitle="Meta Data" />
			<mos:link src="xml-meta-form-table" />
		<mos:link src="endTab" />

		<mos:Call template="startTab" paneid="a" tabtitle="Site Files" />
			<div align="left">
				<label for="exclude">
					<mos:Translate>Exclude in file search</mos:Translate>:
				</label>
				<input type="text" name="exclude" id="exclude" value="" size="40" maxlength="40" />

				<table class="adminlist" id="editpage">
				<thead>
				<tr>
					<th align="center" width="10">
						#
					</th>
					<th width="10">
					</th>
					<th>
						<mos:Translate>Site Files</mos:Translate>
					</th>
				</tr>
				</thead>
				<tfoot>
				<tr>
					<th colspan="3">
					</th>
				</tr>
				</tfoot>

				<mos:tmpl name="site-files-list" type="simplecondition" requiredvars="file" addSystemVars="integer">
					<tr class="row{PAT_IS_EVEN}">
						<td width="10">
							{PAT_ROW_VAR}.
						</td>
						<td width="10">
							<input type="checkbox" name="vars[siteFiles][]" value="{FILE}" checked="true" />
						</td>
						<td>
							{FILE}
						</td>
					</tr>
				</mos:tmpl>
				</table>
			</div>
		<mos:link src="endTab" />

		<mos:Call template="startTab" paneid="a" tabtitle="Admin Files" />
			<div align="left">
				<label for="exclude">
					<mos:Translate>Exclude in file search</mos:Translate>:
				</label>
				<input type="text" name="exclude" id="exclude" value="" size="40" maxlength="40" />

				<table class="adminlist" id="editpage">
				<thead>
				<tr>
					<th align="center" width="10">
						#
					</th>
					<th width="10">
					</th>
					<th>
						<mos:Translate>Administrator Files</mos:Translate>
					</th>
				</tr>
				</thead>
				<tfoot>
				<tr>
					<th colspan="3">
					</th>
				</tr>
				</tfoot>

				<mos:tmpl name="admin-files-list" type="simplecondition" requiredvars="file" addSystemVars="integer">
					<tr class="row{PAT_IS_EVEN}">
						<td width="10">
							{PAT_ROW_VAR}.
						</td>
						<td width="10">
							<input type="checkbox" name="vars[adminFiles][]" value="{FILE}" checked="true" />
						</td>
						<td>
							{FILE}
						</td>
					</tr>
				</mos:tmpl>
				</table>
			</div>
		<mos:link src="endTab" />

		<mos:Call template="startTab" paneid="a" tabtitle="Install" />
			<div align="left">
				<input type="button" value="Refresh Tables" onclick="submitbutton('refreshTables')" class="button" />
				<table class="adminlist" id="editpage">
				<thead>
				<tr>
					<th colspan="3">
						<mos:Translate>Install Info</mos:Translate>
					</th>
				</tr>
				</thead>
				<tfoot>
				<tr>
					<th colspan="3">
					</th>
				</tr>
				</tfoot>

				<tr class="row0">
					<td width="20">
					</td>
					<td width="150">
						Install File:
					</td>
					<td>
						<input name="vars[installFile]" value="{INSTALL_FILE}" class="inputbox"/>
					</td>
				</tr>
				<tr class="row1">
					<td>
					</td>
					<td>
						New table
					</td>
					<td>
						<select name="new_table" class="inputbox">
							{DATABASE_TABLES}
						</select>
						<input type="button" value="Add Table" onclick="submitbutton('addTable')" class="button" />
					</td>
				</tr>
				<mos:tmpl name="install-query-list" type="simplecondition" requiredvars="query" addSystemVars="integer">
					<tr class="row{PAT_IS_EVEN}">
						<td>
							<input type="checkbox" name="vars[installQueries][{ID}][id]" value="{ID}" checked="true" />
						</td>
						<td>
							<input type="text" name="vars[installQueries][{ID}][table]" value="{TABLE}" class="inputbox" />
						</td>
						<td>
							<textarea name="vars[installQueries][{ID}][query]" rows="3" cols="50">{QUERY}</textarea>
						</td>
					</tr>
				</mos:tmpl>
				</table>
			</div>
		<mos:link src="endTab" />

		<mos:Call template="startTab" paneid="a" tabtitle="Uninstall" />
			<div align="left">
				<input type="button" value="Add Query" onclick="submitbutton('addUninstallQuery')" class="button" />
				<table class="adminlist" id="editpage">
				<thead>
				<tr>
					<th colspan="3">
						<mos:Translate>Uninstall Info</mos:Translate>
					</th>
				</tr>
				</thead>
				<tfoot>
				<tr>
					<th colspan="3">
					</th>
				</tr>
				</tfoot>

				<tr class="row0">
					<td width="20">
					</td>
					<td width="150">
						Uninstall File:
					</td>
					<td>
						<input name="vars[uninstallFile]" value="{UNINSTALL_FILE}" class="inputbox"/>
					</td>
				</tr>
				<mos:tmpl name="uninstall-query-list" type="simplecondition" requiredvars="id" addSystemVars="integer">
					<tr class="row{PAT_IS_EVEN}">
						<td>
							<input type="checkbox" name="vars[uninstallQueries][{ID}][id]" value="{ID}" checked="true" />
						</td>
						<td></td>
						<td>
							<textarea name="vars[uninstallQueries][{ID}][query]" rows="3" cols="50">{QUERY}</textarea>
						</td>
					</tr>
				</mos:tmpl>
				</table>
			</div>
		<mos:link src="endTab" />

		<mos:Call template="startTab" paneid="a" tabtitle="Menu Items" />
			<div align="left">
				<input type="button" value="Refresh Menus" onclick="submitbutton('refreshMenus')" class="button" />
				<table class="adminlist" id="editpage">
				<thead>
				<tr>
					<th align="center">
						#
					</th>
					<th>
						Use
					</th>
					<th align="left">
						Name
					</th>
					<th align="left">
						Menu Href
					</th>
					<th align="left">
						Menu Alt
					</th>
					<th align="left">
						Menu Image
					</th>
				</tr>
				</thead>
				<tfoot>
				<tr>
					<th colspan="6">
					</th>
				</tr>
				</tfoot>

				<mos:tmpl name="admin-menus-list" type="simplecondition" requiredvars="name" addSystemVars="integer">
					<tr class="row{PAT_IS_EVEN}">
						<td width="10">
							{PAT_ROW_VAR}.
						</td>
						<td width="10">
							<input type="checkbox" name="vars[adminMenus][{ID}][id]" value="{ID}" checked="true" />
						</td>
						<td>
							<input type="text" name="vars[adminMenus][{ID}][name]" value="{NAME}" class="inputbox" />
						</td>
						<td>
							<input type="text" name="vars[adminMenus][{ID}][admin_menu_link]" value="{ADMIN_MENU_LINK}" class="inputbox" />
						</td>
						<td>
							<input type="text" name="vars[adminMenus][{ID}][admin_menu_alt]" value="{ADMIN_MENU_ALT}" class="inputbox" />
						</td>
						<td>
							<input type="text" name="vars[adminMenus][{ID}][admin_menu_img]" value="{ADMIN_MENU_IMG}" class="inputbox" />
						</td>
					</tr>
				</mos:tmpl>
				<tr>
					<th colspan="6">
						Sub Menus
					</th>
				</tr>
				<mos:tmpl name="admin-submenus-list" type="simplecondition" requiredvars="name" addSystemVars="integer">
					<tr class="row{PAT_IS_EVEN}">
						<td width="10">
							{PAT_ROW_VAR}.
						</td>
						<td width="10">
							<input type="checkbox" name="vars[adminSubMenus][{ID}][id]" value="{ID}" checked="true" />
						</td>
						<td>
							<input type="text" name="vars[adminSubMenus][{ID}][name]" value="{NAME}" class="inputbox" />
						</td>
						<td>
							<input type="text" name="vars[adminSubMenus][{ID}][admin_menu_link]" value="{ADMIN_MENU_LINK}" class="inputbox" />
						</td>
						<td>
							<input type="text" name="vars[adminSubMenus][{ID}][admin_menu_alt]" value="{ADMIN_MENU_ALT}" class="inputbox" />
						</td>
						<td>
							<input type="text" name="vars[adminSubMenus][{ID}][admin_menu_img]" value="{ADMIN_MENU_IMG}" class="inputbox" />
						</td>
					</tr>
				</mos:tmpl>
				</table>
			</div>
		<mos:link src="endTab" />

		<mos:Call template="startTab" paneid="a" tabtitle="Parameters" />
			<mos:link src="xml-params-table" />
		<mos:link src="endTab" />
	<mos:link src="endTabPane" />
			</td>
		</tr>
		</table>
	</fieldset>
</div>

<input type="hidden" name="cid[0]" value="{ROW_ID}" />
<input type="hidden" name="_option" value="{ROW_OPTION}" />
<input type="hidden" name="option" value="{OPTION}" />
<input type="hidden" name="task" value="" />

<mos:link src="include-tooltips" />