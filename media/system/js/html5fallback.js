!function(e,t,a){"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t});var i={init:function(a,i){var r=this;r.elem=i,r.$elem=e(i),i.H5Form=r,r.options=e.extend({},e.fn.h5f.options,a),r.field=t.createElement("input"),r.checkSupport(r),"form"===i.nodeName.toLowerCase()&&r.bindWithForm(r.elem,r.$elem)},bindWithForm:function(e,t){var i=this,r=!!t.attr("novalidate"),s=e.elements,o=s.length;for("onSubmit"===i.options.formValidationEvent&&t.on("submit",function(e){r=!!t.attr("novalidate");var s=this.H5Form.donotValidate!=a?this.H5Form.donotValidate:!1;s||r||i.validateForm(i)?t.find(":input").each(function(){i.placeholder(i,this,"submit")}):(e.preventDefault(),this.donotValidate=!1)}),t.on("focusout focusin",function(e){i.placeholder(i,e.target,e.type)}),t.on("focusout change",i.validateField),t.find("fieldset").on("change",function(){i.validateField(this)}),i.browser.isFormnovalidateNative||t.find(":submit[formnovalidate]").on("click",function(){i.donotValidate=!0});o--;){var l=s[o];i.polyfill(l),i.autofocus(i,l)}},polyfill:function(e){if("form"===e.nodeName.toLowerCase())return!0;if(!e.form||!e.form.H5Form)return!0;var t=e.form.H5Form;t.placeholder(t,e),t.numberType(t,e)},checkSupport:function(e){e.browser={},e.browser.isRequiredNative=!!("required"in e.field),e.browser.isPatternNative=!!("pattern"in e.field),e.browser.isPlaceholderNative=!!("placeholder"in e.field),e.browser.isAutofocusNative=!!("autofocus"in e.field),e.browser.isFormnovalidateNative=!!("formnovalidate"in e.field),e.field.setAttribute("type","email"),e.browser.isEmailNative="email"==e.field.type,e.field.setAttribute("type","url"),e.browser.isUrlNative="url"==e.field.type,e.field.setAttribute("type","number"),e.browser.isNumberNative="number"==e.field.type,e.field.setAttribute("type","range"),e.browser.isRangeNative="range"==e.field.type},validateForm:function(){var e=this,t=e.elem,a=t.elements,i=a.length,r=!0;jQuery(".invalid_jfield_message").remove(),t.isValid=!0;for(var s=0;i>s;s++){var o=a[s];o.isRequired=!!o.required,o.isDisabled=!!o.disabled,o.isDisabled||(r=e.validateField(o),t.isValid&&!r&&e.setFocusOn(o),t.isValid=r&&t.isValid)}return e.options.doRenderMessage&&e.renderErrorMessages(e,t),t.isValid},validateField:function(t){var i=t.target||t;if(i.form===a)return null;{var r=i.form.H5Form,s=e(i),o=!1,l=!!e(i).attr("required");!!s.attr("disabled")}if(i.isDisabled||(o=!r.browser.isRequiredNative&&l&&r.isValueMissing(r,i),isPatternMismatched=!r.browser.isPatternNative&&r.matchPattern(r,i)),i.validityState={valueMissing:o,patterMismatch:isPatternMismatched,valid:i.isDisabled||!(o||isPatternMismatched)},r.browser.isRequiredNative||(i.validityState.valueMissing?s.addClass(r.options.requiredClass):s.removeClass(r.options.requiredClass)),r.browser.isPatternNative||(i.validityState.patterMismatch?s.addClass(r.options.patternClass):s.removeClass(r.options.patternClass)),i.validityState.valid){s.removeClass(r.options.invalidClass);var n=r.findLabel(s);n&&n.removeClass(r.options.invalidClass)}else{s.addClass(r.options.invalidClass);var n=r.findLabel(s);n&&n.addClass(r.options.invalidClass)}return i.validityState.valid},isValueMissing:function(i,r){var s=e(r),o=/^submit$/i,l=s.val(),n=r.type!==a?r.type:r.tagName.toLowerCase(),d=/^(checkbox|radio|fieldset)$/i;if(d.test(n)||o.test(n)){if(d.test(n)){if("checkbox"===n)return!s.is(":checked");var u;u="fieldset"===n?s.find("input"):t.getElementsByName(r.name);for(var f=0;f<u.length;f++)if(e(u[f]).is(":checked"))return!1;return!0}}else{if(""===l)return!0;if(!i.browser.isPlaceholderNative&&s.hasClass(i.options.placeholderClass))return!0}return!1},matchPattern:function(t,i){var r=e(i),s=!t.browser.isPlaceholderNative&&r.attr("placeholder")&&r.hasClass(t.options.placeholderClass)?"":r.attr("value"),o=r.attr("pattern"),l=r.attr("type");if(""!==s)if("email"===l){var n=!0;if(r.attr("multiple")===a)return!t.options.emailPatt.test(s);s=s.split(t.options.mutipleDelimiter);for(var d=0;d<s.length;d++)if(n=t.options.emailPatt.test(s[d].replace(/[ ]*/g,"")),!n)return!0}else{if("url"===l)return!t.options.urlPatt.test(s);if("text"===l&&o!==a)return usrPatt=RegExp("^(?:"+o+")$"),!usrPatt.test(s)}return!1},placeholder:function(t,i,r){var s=e(i),o={placeholder:s.attr("placeholder")},l=/^(focusin|submit)$/i,n=/^(input|textarea)$/i,d=/^password$/i,u=t.browser.isPlaceholderNative;u||!n.test(i.nodeName)||d.test(i.type)||o.placeholder===a||(""!==i.value||l.test(r)?i.value===o.placeholder&&l.test(r)&&(i.value="",s.removeClass(t.options.placeholderClass)):(i.value=o.placeholder,s.addClass(t.options.placeholderClass)))},numberType:function(t,a){var i=e(a);if(node=/^input$/i,type=i.attr("type"),node.test(a.nodeName)&&("number"==type&&!t.browser.isNumberNative||"range"==type&&!t.browser.isRangeNative)){var r,s=parseInt(i.attr("min")),o=parseInt(i.attr("max")),l=parseInt(i.attr("step")),n=parseInt(i.attr("value")),d=i.prop("attributes"),u=e("<select>");s=isNaN(s)?-100:s;for(var f=s;o>=f;f+=l)r=e("<option>").attr("value",f).text(f),(n==f||n>f&&f+l>n)&&r.attr("selected",""),u.append(r);e.each(d,function(){u.attr(this.name,this.value)}),i.replaceWith(u)}},autofocus:function(a,i){var r=e(i),s=!!r.attr("autofocus"),o=/^(input|textarea|select|fieldset)$/i,l=/^submit$/i,n=a.browser.isAutofocusNative;!n&&o.test(i.nodeName)&&!l.test(i.type)&&s&&e(t).ready(function(){a.setFocusOn(i)})},refreshFormLabels:function(e,t){var i,r,s,o,l={};jQuery("label").each(function(){i=jQuery(this),s=i.attr("for"),s&&(l[s]=i);var e=i.attr("id");e&&-1!==e.indexOf("-lbl",e.length-4)&&(l[e.slice(0,-4)]=i)}),a===t&&(t=e.elements);for(var n=0;n<t.length;n++)r=jQuery(t[n]),r.data("label")===a&&(o=r.attr("id"),o&&l.hasOwnProperty(o)?r.data("label",l[o]):r.data("label",!1))},findLabel:function(e){var t=this,i=e.get(0).form,r=e.attr("id"),s=e.data("label");return s||(r?t.refreshFormLabels(i,i.elements):e.data("label",!1)),s=e.data("label"),s===a&&(s=!1,e.data("label",s)),s},setFocusOn:function(t){"fieldset"===t.tagName.toLowerCase()?e(t).find(":first").focus():e(t).focus()},renderErrorMessages:function(t,a){var i=a.elements,r=i.length,s={},o=0;for(s.error=[];r--;){var l=e(i[r]),n="";if(l.hasClass(t.options.requiredClass)?n=t.options.requiredMessage:l.hasClass(t.options.patternClass)?n=t.options.patternMessage:l.is(":invalid")&&("fieldset"!=i[r].tagName.toLowerCase()||l.hasClass("radio")||l.hasClass("checkboxes"))&&(n=i[r].title||(l.attr("required")?t.options.requiredMessage:t.options.patternMessage)),n){var d=t.findLabel(l);d&&(s.error[o++]=d.text().replace("*","")+" "+n),d||e('<span class="alert alert-error invalid_jfield_message" style="display:inline-block; margin: 2px 12px;">'+n+"</span>").insertAfter(l)}}s.error.length>0&&Joomla.renderMessages(s)}};e.fn.h5f=function(e){return this.each(function(){var t=Object.create(i);t.init(e,this)})},e.fn.h5f.options={invalidClass:"invalid",requiredClass:"required",requiredMessage:" is required.",placeholderClass:"placeholder",patternClass:"pattern",patternMessage:" doesn't match pattern.",doRenderMessage:!1,formValidationEvent:"onSubmit",emailPatt:/^[a-zA-Z0-9.!#$%&‚Äô*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,urlPatt:/[a-z][\-\.+a-z]*:\/\//i},e(function(){e("form").h5f({doRenderMessage:!0,requiredClass:"musthavevalue"})})}(jQuery,document);